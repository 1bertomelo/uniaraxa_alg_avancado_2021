<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="cabecalho">
        <h4>JOGADOR ATUAL:X</h4>
        <h4>LINHA SELECIONADA:<span id="linhaSelecionada">-</span></h4>
        <h4>COLUNA SELECIONADA:<span id="colunaSelecionada">-</span></h4>
    </div>
    <div id="principal">
        <div id="tabuleiro">
            <div id="linha0">
                <input type="text" id="celula_0_0" readonly onclick="selecionarCelula(this)" />
                <input type="text" id="celula_0_1" readonly onclick="selecionarCelula(this)" />
                <input type=" text" id="celula_0_2" readonly onclick="selecionarCelula(this)" />
            </div>
            <div id="linha1">
                <input type="text" id="celula_1_0" readonly onclick="selecionarCelula(this)" />
                <input type="text" id="celula_1_1" readonly onclick="selecionarCelula(this)" />
                <input type="text" id="celula_1_2" readonly onclick="selecionarCelula(this)" />
            </div>
            <div id="linha2">
                <input type="text" id="celula_2_0" readonly onclick="selecionarCelula(this)" />
                <input type="text" id="celula_2_1" readonly onclick="selecionarCelula(this)" />
                <input type="text" id="celula_2_2" readonly onclick="selecionarCelula(this)" />
            </div>
        </div>
    </div> <br />
    <div id="acao">
        <button>RESETAR</button>
        <button>FAZER JOGADA</button>
    </div>
    <script>
        //definir o inicio do jogo
        var matriz3x3 = [['', '', ''], ['', '', ''], ['', '', '']]; //vazio
        const jogadorX = 'X';//constante
        const jogadorO = 'O';//constante
        var jogadaAtual = { jogadorDaRodada: 'X', linha: -1, coluna: -1 };
        //objeto - > 3 propiedades 
        //parametro da função -> celula que eu cliquei
        function selecionarCelula(pCelula) {
            console.log(pCelula.id);
            let posicoes = pCelula.id.split('_');//celula 2 2          
            jogadaAtual.linha = posicoes[1];
            jogadaAtual.coluna = posicoes[2];
            //verificar se a posicao estao ocupada ou vazia
            if (matriz3x3[jogadaAtual.linha][jogadaAtual.coluna] === '') {
                document.querySelector('#linhaSelecionada').innerHTML = parseInt(jogadaAtual.linha) + 1;
                document.querySelector('#colunaSelecionada').innerHTML = parseInt(jogadaAtual.coluna) + 1;
                document.querySelector(`#celula_${jogadaAtual.linha}_${jogadaAtual.coluna}`).value
                    = jogadaAtual.jogadorDaRodada;
                matriz3x3[jogadaAtual.linha][jogadaAtual.coluna] = jogadaAtual.jogadorDaRodada;
                passarAVez(jogadaAtual.jogadorDaRodada);
                console.table(matriz3x3);

            } else {
                alert('Posição ocupada, tente novamente');
            }


        }

        function passarAVez(pJogadorAtual) {
            if (pJogadorAtual === jogadorX) {
                jogadaAtual.jogadorDaRodada = jogadorO;
            }
            else {
                jogadaAtual.jogadorDaRodada = jogadorX;
            }
        }




    </script>
</body>

</html>